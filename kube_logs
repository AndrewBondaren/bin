POD=$1
USER=$2

function checkDir () { 
 if [ ! -d "~/logs" ];
  then 
   mkdir ~/logs
 fi
}

function copyFromMonolith () {
 checkDir
 manageDir
 kubectl cp default/$(kube_pods $USER | grep $POD | awk '{print $1}'):/home/carprice/logs ~/logs/$POD/
}
function copyFromPod () {
 checkDir  
 manageDir
 kubectl cp default/$(kube_pods $USER | grep $POD | awk '{print $1}'):/home/carprice/source/storage/logs ~/logs/$POD/
}
function copyLogs () {
 if [ "$POD" = "monolith ];
  then 
   copyFromMonolith
  else 
   copyFromPod
 fi
}
function manageDir() {
 local dir="~/logs/$POD"
 if [ -d "$dir" ];
  then
   echo "Directory $dir exists"
  else
   echo "Directory $dir  DOES NOT exists."
 fi
}


if [ -z "$USER" ];
 then
    $USER=bondarenko 
    echo USER=$USER
    copyLogs
 else
    echo USER=$USER
    copyLogs
fi

